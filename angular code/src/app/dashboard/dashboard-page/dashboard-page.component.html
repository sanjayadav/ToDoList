<section id="nav-bar">
  <nav class="navbar navbar-expand-lg navbar-light">
    <a class="navbar-brand pointer" [routerLink]="['/dashboard']"><img src="assets/img/logo.png"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <i class="fa fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link pointer" [routerLink]="['/dashboard']"><i class="fa fa-dashboard" aria-hidden="true"></i> Dashboard</a>
        </li>
        <li class="nav-item">
          <a class="nav-link pointer" (click)="goToNotifications()"><i class="fa fa-bell" aria-hidden="true"></i> Notifications</a>
        </li>
        <li class="nav-item">
          <a class="nav-link pointer" (click)="logout()"><i class="fa fa-sign-out" aria-hidden="true"></i> Log Out</a>
        </li>
      </ul>
    </div>
  </nav>
</section>
<!-- Table Section -->

<div class="container-fluid bg-grey" style="padding-bottom:60px;">
  <div class="col-sm-12">
      <h4>All Tasks</h4>
  </div>
  <div class="row" >
      <div class="col-sm-6" style="padding-left: 30px;">
              <i class="icon-search"></i> Search 
              <mat-form-field>
                  <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Type here to search...">
              </mat-form-field>
      </div>
      <div class="col-sm-6 text-center" style="margin-bottom:15px;">
          <a class="btn btn-primary" [routerLink]="['/create']"> Create new task <i class="fa fa-plus"></i></a> 
      </div>
  </div>

<div class="col">   
  <div class="table-container table-responsive mat-elevation-z8">    
    <mat-table [dataSource]="dataSource" matSort >
        <!-- Title Column -->
        <ng-container matColumnDef="task">
          <mat-header-cell *matHeaderCellDef mat-sort-header class="task-cell"> Task </mat-header-cell>
          <mat-cell *matCellDef="let row" class="task-cell"> {{ (row.task.length>20)? (row.task | slice:0:20)+'..':(row.task) }} </mat-cell>
        </ng-container>
    
        <!-- Status Column -->
        <ng-container matColumnDef="status">
          <mat-header-cell *matHeaderCellDef mat-sort-header class="status-cell"> Status </mat-header-cell>
          <mat-cell *matCellDef="let row" [style.color]="row.color" style="font-weight:500;" class="status-cell"> {{row.status}} </mat-cell>
        </ng-container>
        
        <!-- Due By Column -->
        <ng-container matColumnDef="duedate">
          <mat-header-cell *matHeaderCellDef mat-sort-header class="duedate-cell"> Due By </mat-header-cell>
          <mat-cell *matCellDef="let row" class="duedate-cell" ><small class="text-muted">{{row.dueDate | slice:8:10}} {{row.dueDate | slice:4:7}} {{row.dueDate | slice:11:15}}</small></mat-cell>
        </ng-container> 
        
        <!-- Status Column -->
        <ng-container matColumnDef="priority">
          <mat-header-cell *matHeaderCellDef mat-sort-header class="priority-cell"> Priority </mat-header-cell>
          <mat-cell *matCellDef="let row" [style.color]="row.color" style="font-weight:500;" class="priority-cell"> {{row.priority}} </mat-cell>
        </ng-container>
          
                
          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;" [routerLink]="['/task',row.taskId]">
          </mat-row>
      </mat-table>
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
  </div>
</div>
</div>

<section id="footer" >
  <img src="assets/img/wave2.png" class="footer-img">
  <div class="container">
    <div class="row">
      <div class="col-md-4 footer-box">
        <img src="assets/img/logo.png">
      </div>
    </div>
    <p class="copyright">To Do List Management System | 2019</p>
  </div>
</section>



